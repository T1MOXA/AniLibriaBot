# AniLibriaBot
Менеджер релизов - бот, предназначенный для контроля за работой над релизами. Он способен сообщать ответственным за релиз, что происходит задержка.
При добавлении бота в группу он будет ежедневно в 20:00 по МСК отправлять статусные сообщения по релизу. Последние сообщения бота можно найти по хештегу #Status.

# Список команд
<ul>
  <li>/start - Выполняется при запуске бота, стартовый экран приветствия.</li>
  <li>/help - Вызов справки по боту и доступным командам.</li>
  <li>/new [Release_short_name]* [Release_long_name]* - Создание нового релиза. Можно вызвать только в группе релиза после добавления туда бота.<br>
  <ul><i>Параметры</i>:
    <li>Release_short_name - Короткое название релиза. Указывается только на английском языке, спецсимволов и пробелов, знак подчёркивания использовать можно.</li>
    <li>Release_long_name - Длинное (полное) название релиза. Можно указывать любое название, желательно на русском.</li>
  </ul>
  <li>/rls_str [Release_type]* [Today] [Current_ep] [Max_ep] - Команда для начала работы над релизом. Можно вызвать только в группе релиза.</br>
  <ul><i>Параметры</i>:
    <li>Release_type* - Тип релиза, можно указать один из вариантов: Top (топовый релиз, дедлайн 2 дня), NonTop (нетоповый релиз, дедлайн 4 дня), Old (неонгоинг, дедлайн 7 дней).</li>
    <li>Today - Текущий день релиза (по умолчанию - 1-й день релиза).</li>
    <li>Current_ep - Текущий эпизод (если бот был добавлен не на старте релиза).</li>
    <li>Max_ep - Всего эпизодов (указывать, если известно).</li>
  </ul>
  <li>/subs_completed - Отметка о завершении работ над переводом.</li>
  <li>/decor_completed - Отметка о завершении работ над оформлением.</li>
  <li>/voice_completed - Отметка о завершении работ над озвучкой.</li>
  <li>/timing_completed - Отметка о завершении работ над таймингом.</li>
  <li>/fixs_completed - Отметка о завершении работ над фиксами.</li>
  <li>/ep_completed - Отметка о завершении работ над серией. Можно вызвать только после завершения всех этапов работы над серией. После завершения серии отправляет статус последней серии. Если серия была последней в релизе - завершает релиз.</li>
  <li>/status [Release_name] - Вызов статуса релиза. В группах работает без названия релиза, а в личных сообщениях - только с названием (название должно соответствовать заданому при создании релиза).</li>
  <li>/active_releases - Вызов списка активных релизов, над которыми идёт работа в данный момент. Работает только в личных сообщениях.</li>
  <li>/releases_history - Вызов списка архивных (неактивных) релизов, используется исключительно для справки. Работает только в личных сообщениях.</li>
</ul>

"*" звёздочкой отмечены обязательные параметры.

# Список файлов проекта
- bot.py - основной файл для работы бота, здесь работает long polling для перехвата команд. Команды перехватыватываются через @dp.message_handler.
- bot_funcs.py - вспомогательный файл бота, содержит функции для его работы (составление отчёта по статусу, справки и т.д.).
- config_loader.py - файл для подгрузки данных из файла конфигурации.
- sqlighter.py - файл для подгрузки данных из БД SQLighter, в т.ч. список релизов, статус и их привязку к конференциям в телеграме.
- config.cfg - файл конфигурации.
- db.db - база данных со списком релизов.
- requirements.txt - список библиотек/зависимостей проекта.

# Версии
<table>
  <tr>
    <td>Версия</td>
    <td>Описание</td>
    <td>Дата релиза</td>
  </tr>
  <tr>
    <td>v1.1</td>
    <td>?</td>
    <td>??.02.21</td>
  </tr>
  <tr>
    <td>v1.0</td>
    <td>Официальное представление бота технарям, начало использования в других релизах.</td>
    <td>07.02.21</td>
  </tr>
  <tr>
    <td>v0.9 Beta</td>
    <td>Доделана функциональная часть бота, добавлен в первый рабочий релиз для теста.</td>
    <td>01.02.21</td>
  </tr>
  <tr>
    <td>v0.2</td>
    <td>Смена имени бота, частичный пересмотр концепции.</td>
    <td>19.01.21</td>
  </tr>
  <tr>
    <td>v0.1</td>
    <td>Стартовый прототип.</td>
    <td>25.12.20</td>
  </tr>
</table>
